import{i as h,d as f,H as m,c as w,b as r,e as c,J as k,n as d,u as g,_ as v,r as $,F as _,K as u,A as C}from"./index-CT7wa57o.js";const z="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let b=(t=21)=>{let s="",a=crypto.getRandomValues(new Uint8Array(t));for(;t--;)s+=z[a[t]&63];return s};const e=h({size:36,width:innerWidth,height:innerHeight-64,name:"",id:b(),obstacles:[],hero:{left:0,top:0,figure:"front"}}),B=h(0),I=(t,s)=>{e.value.width=t,e.value.height=s},S=f({__name:"Container",setup(t){const s=h();m(()=>{if(s.value){const{width:o,height:i}=s.value.getBoundingClientRect();e.value.width===0&&e.value.height===0&&I(o,i)}});const a=w(()=>({width:`${e.value.width}px`,height:`${e.value.height}px`}));return(o,i)=>(r(),c("div",{class:"w-full h-full relative grid-container",id:"grid-container",style:d(g(a)),ref_key:"gridRef",ref:s},[k(o.$slots,"default",{},void 0)],4))}}),L=v(S,[["__scopeId","data-v-caf22cbf"]]),M=["onClick"],O=["onClick"],R=f({__name:"Obstacle",emits:["select"],setup(t,{emit:s}){const a=s,o=n=>{a("select",n)},i=n=>({left:`${n.x*e.value.size}px`,top:`${n.y*e.value.size}px`,height:`${e.value.size}px`,width:`${e.value.size}px`,backgroundImage:` url('${n.image}')`}),y=n=>({...i(n),backgroundImage:`url(${n.image})`,backgroundPosition:`0px ${n.pos*32}px`});return(n,p)=>(r(!0),c(_,null,$(g(e).obstacles,l=>(r(),c(_,{key:l.x},[l.type==="wall"?(r(),c("div",{key:0,onClick:u(x=>o(l),["stop"]),onMousemove:p[0]||(p[0]=u(()=>{},["stop"])),class:"absolute obstacle",style:d(i(l))},null,44,M)):l.type==="monster"?(r(),c("div",{key:1,onClick:u(x=>o(l),["stop"]),style:d(y(l)),class:"absolute"},null,12,O)):C("",!0)],64))),128))}}),F=v(R,[["__scopeId","data-v-528523c4"]]),H=()=>Math.floor(e.value.width/e.value.size),V=()=>Math.floor(e.value.height/e.value.size),E=t=>{e.value.obstacles.find(a=>a.x===t.x&&a.y===t.y)||(t.id=b(),e.value.obstacles.push(t))},G=t=>{let s=!1;return typeof t=="string"?s=e.value.obstacles.findIndex(a=>a.id===t)>-1:s=e.value.obstacles.findIndex(a=>a.x===t.x&&a.y===t.y)>-1,s},J=t=>e.value.obstacles=e.value.obstacles.filter(s=>s.id!==t);export{L as _,V as a,F as b,G as c,J as d,E as e,H as g,B as h,b as n,e as s};
