import{i as p,d as f,H as m,c as w,b as i,e as c,J as k,n as d,u as v,_ as g,r as $,F as _,K as u,y as C}from"./index-n6RClF3m.js";const z="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let y=(t=21)=>{let s="",a=crypto.getRandomValues(new Uint8Array(t));for(;t--;)s+=z[a[t]&63];return s};const e=p({size:60,width:600,height:600,name:"",id:y(),obstacles:[],hero:{left:0,top:0,figure:"front"}}),L=p(0),I=(t,s)=>{e.value.width=t,e.value.height=s},S=f({__name:"Container",setup(t){const s=p();m(()=>{if(s.value){const{width:o,height:r}=s.value.getBoundingClientRect();e.value.width===0&&e.value.height===0&&I(o,r)}});const a=w(()=>({width:`${e.value.width}px`,height:`${e.value.height}px`}));return(o,r)=>(i(),c("div",{class:"w-full h-full relative grid-container",id:"grid-container",style:d(v(a)),ref_key:"gridRef",ref:s},[k(o.$slots,"default",{},void 0)],4))}}),A=g(S,[["__scopeId","data-v-6ea034dd"]]),M=["onClick"],O=["onClick"],R=f({__name:"Obstacle",emits:["select"],setup(t,{emit:s}){const a=s,o=n=>{a("select",n)},r=n=>({left:`${n.x*e.value.size}px`,top:`${n.y*e.value.size}px`,height:`${e.value.size}px`,width:`${e.value.size}px`,backgroundImage:` url('${n.image}')`}),b=n=>({...r(n),backgroundImage:`url(${n.image})`,backgroundPosition:`0px ${n.pos*32}px`});return(n,h)=>(i(!0),c(_,null,$(v(e).obstacles,l=>(i(),c(_,{key:l.x},[l.type==="wall"?(i(),c("div",{key:0,onClick:u(x=>o(l),["stop"]),onMousemove:h[0]||(h[0]=u(()=>{},["stop"])),class:"absolute obstacle",style:d(r(l))},null,44,M)):l.type==="monster"?(i(),c("div",{key:1,onClick:u(x=>o(l),["stop"]),style:d(b(l)),class:"absolute"},null,12,O)):C("",!0)],64))),128))}}),F=g(R,[["__scopeId","data-v-528523c4"]]),V=()=>Math.floor(e.value.width/e.value.size),E=()=>Math.floor(e.value.height/e.value.size),G=t=>{e.value.obstacles.find(a=>a.x===t.x&&a.y===t.y)||(t.id=y(),e.value.obstacles.push(t))},H=t=>{let s=!1;return typeof t=="string"?s=e.value.obstacles.findIndex(a=>a.id===t)>-1:s=e.value.obstacles.findIndex(a=>a.x===t.x&&a.y===t.y)>-1,s},J=t=>e.value.obstacles=e.value.obstacles.filter(s=>s.id!==t);export{A as _,E as a,F as b,H as c,J as d,G as e,V as g,L as h,y as n,e as s};
